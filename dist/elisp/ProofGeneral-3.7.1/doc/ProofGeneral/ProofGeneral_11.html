<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on July, 24 2008 by texi2html 1.78 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>

-->
<head>
<title>Proof General: 10. Isabelle Proof General</title>

<meta name="description" content="Proof General: 10. Isabelle Proof General">
<meta name="keywords" content="Proof General: 10. Isabelle Proof General">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.78">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Isabelle-Proof-General"></a>
<a name="SEC66"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="ProofGeneral_10.html#SEC65" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC67" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral_10.html#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 10. Isabelle Proof General </h1>

<p>Isabelle Proof General supports major generic features of Proof General,
including integration with Isabelle's theory loader for proper automatic
multiple file handling.  Support for tags and proof-by-pointing is
missing.
</p>
<p>In this version, support for the old-style &ldquo;classic&rdquo; Isabelle theory
files has been removed; in Isabelle2007 only Isar style theory files are
supported.
</p>
<p>Isabelle provides its own way to invoke Proof General via the
<code>Isabelle</code> script.  Running <code>Isabelle</code> starts an Emacs session
with Isabelle Proof General.  The defaults may be changed by editing the
Isabelle settings, see the Isabelle documentation for details.
</p>
<p>Proof General for Isabelle manages Isar &lsquo;<tt>.thy</tt>&rsquo; files.  The syntax
of Isabelle input is technically simple, enabling Proof General to
provide reliable control over incremental execution of the text.  Thus
it is very hard to let Proof General lose synchronization with the
Isabelle process.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC67">10.1 Choosing logic and starting isabelle</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC68">10.2 Isabelle commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC69">10.3 Isabelle settings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC70">10.4 Isabelle customizations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Choosing-logic-and-starting-isabelle"></a>
<a name="SEC67"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC66" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC66" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.1 Choosing logic and starting isabelle </h2>

<p>When you load an Isabelle theory file into Proof General, you may be
prompted for the path to the program <code>isatool</code> if it is not on the
system <code>PATH</code> already.  This is used to generate further
information for invoking Isabelle, in particular, the list of available
logics.
</p>
<p>The Isabelle menu offers an easy way to select the invoked object logic.
If you look at the menu:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">        Isabelle -&gt; Logics -&gt; 
</pre></td></tr></table>

<p>you should see the list of logics available to Isabelle.  This menu is
generated from the output of the command <code>isatool findlogics</code>.
(Similarly, the documentation menu is partly generated from
<code>isatool doc</code>).  Instead of the menu, you can use the
keyboard command <code>isabelle-chose-logic</code> to choose from the list.
</p>
<p>The logics list is refreshed dynamically so you can select any newly
built heap images in the same Emacs session.  However, notice that the
choices are greyed out while Isabelle is actually runnning &mdash; you can
only switch to a new logic if you first exit Isabelle (similarly to
Proof General, Isabelle operates with only one logic at a time).
</p>
<p>Another way to set the logic before Isabelle is launched is using an
Emacs local variable setting inside a comment at the top of the file,
see the documentation of <code>isabelle-chosen-logic</code> below.
</p>
<p>In case you do not have the <code>isatool</code> program available or want to
override its behaviour, you may set the variable
<code>isabelle-program-name-override</code> to define the name of the
executable used to start Isabelle.  The standard options are and 
logic name are still appended.  
</p>

<dl>
<dt><u>User Option:</u> <b>isabelle-program-name-override</b>
<a name="IDX101"></a>
</dt>
<dd><p>Name of executable program to run Isabelle.
</p>
<p>You can set customize this in case the automatic settings
mechanism (based on isatool) does not work for you.  One reason
to do this is if you are running Isabelle remotely, or using
windows and avoiding isatool.
</p>
<p>A possible value when running under Windows looks like this:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">  C:\sml\bin\.run\run.x86-win32.exe @SMLload=C:\Isabelle\
</pre></td></tr></table>
<p>This expects SML/NJ in C:\sml and Isabelle images in C:Isabelle.
The logic image name is tagged onto the end.
</p>
<p>The default value is <code>nil</code>.
</p></dd></dl>
<dl>
<dt><u>User Option:</u> <b>isabelle-chosen-logic</b>
<a name="IDX102"></a>
</dt>
<dd><p>Choice of logic to use with Isabelle.<br>
If non-nil, added onto the Isabelle command line for invoking Isabelle.
</p>
<p>You can set this as a file local variable, using a special comment
at the top of your theory file, like this:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">   (* -*- <code>isabelle-chosen-logic</code>: &quot;ZF&quot; -*- *)
</pre></td></tr></table>

<p>The default value is <code>nil</code>.
</p></dd></dl>
<dl>
<dt><u>Command:</u> <b>isabelle-choose-logic</b><i> logic</i>
<a name="IDX103"></a>
</dt>
<dd><p>Adjust <code>isabelle-prog-name</code> and <code>proof-prog-name</code> for running <var>logic</var>.
</p></dd></dl>
<hr size="6">
<a name="Isabelle-commands"></a>
<a name="SEC68"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC67" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC66" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.2 Isabelle commands </h2>



<p>The Isabelle instance of Proof General supplies several specific
help key bindings; these functions are offered within the prover help
menu as well.
</p>
<dl compact="compact">
<dt> <kbd>C-c C-a r</kbd></dt>
<dd><p>Invokes Isar command <code>refute</code> on the current subgoal.  Only available in HOL
and derived logics.
</p></dd>
<dt> <kbd>C-c C-a C-q</kbd></dt>
<dd><p>Invokes Isar command <code>quickcheck</code> on the current subgoal.
</p></dd>
<dt> <kbd>C-c C-a C-d</kbd></dt>
<dd><p>Displays a draft document of the current theory.
</p></dd>
<dt> <kbd>C-c C-a C-p</kbd></dt>
<dd><p>Prints a draft document of the current theory.
</p></dd>
<dt> <kbd>C-c C-a h A</kbd></dt>
<dd><p>Shows available antiquotation commands and options.
</p></dd>
<dt> <kbd>C-c C-a h C</kbd></dt>
<dd><p>Shows the current Classical Reasoner context.
</p></dd>
<dt> <kbd>C-c C-a h I</kbd></dt>
<dd><p>Shows the current set of induct/cases rules.
</p></dd>
<dt> <kbd>C-c C-a h S</kbd></dt>
<dd><p>Shows the current Simplifier context.
</p></dd>
<dt> <kbd>C-c C-a h T</kbd></dt>
<dd><p>Shows the current set of transitivity rules (for calculational reasoning).
</p></dd>
<dt> <kbd>C-c C-a h a</kbd></dt>
<dd><p>Shows attributes available in current theory context.
</p></dd>
<dt> <kbd>C-c C-a h b</kbd></dt>
<dd><p>Shows all local term bindings.
</p></dd>
<dt> <kbd>C-c C-a h c</kbd></dt>
<dd><p>Shows all named local contexts (cases).
</p></dd>
<dt> <kbd>C-c C-a h f</kbd></dt>
<dd><p>Shows all local facts.
</p></dd>
<dt> <kbd>C-c C-a h i</kbd></dt>
<dd><p>Shows inner syntax of the current theory context (for types and terms).
</p></dd>
<dt> <kbd>C-c C-a h m</kbd></dt>
<dd><p>Shows proof methods available in current theory context.
</p></dd>
<dt> <kbd>C-c C-a h o</kbd></dt>
<dd><p>Shows all available commands of Isabelle's outer syntax.
</p></dd>
<dt> <kbd>C-c C-a h t</kbd></dt>
<dd><p>Shows theorems stored in the current theory node.
</p></dd>
<dt> <kbd>C-c C-a C-s</kbd></dt>
<dd><p>Invoke sledgehammer on first subgoal.
</p></dd>
<dt> <kbd>C-c C-a C-m</kbd> </dt>
<dd><p>Find theorems containing given arguments (prompt in minibuffer).
Invokes the <code>thms_containing</code> command.  Arguments are
separated by white space as usual in Isar.
</p></dd>
<dt> <kbd>C-c C-a C-f</kbd> </dt>
<dd><p>Find theorems containing (argument in form)
</p></dd>
<dt> <kbd>C-c C-f</kbd></dt>
<dd><p>Find theorems: either of the above.  
</p></dd>
</dl>



<a name="IDX104"></a>
<a name="IDX105"></a>
<a name="IDX106"></a>
<a name="IDX107"></a>
<a name="IDX108"></a>
<a name="IDX109"></a>
<a name="IDX110"></a>
<a name="IDX111"></a>
<a name="IDX112"></a>

<p>The following shortcuts insert control sequences into the text,
modifying the appearance of individual symbols (single letters,
mathematical entities etc.); the X-Symbol package will provide immediate
visual feedback.
</p>
<dl compact="compact">
<dt> <kbd>C-c C-a b</kbd></dt>
<dd><p>Inserts &quot;\&lt;^bold&gt;&quot;
</p></dd>
<dt> <kbd>C-c C-a C-b</kbd></dt>
<dd><p>Inserts &quot;\&lt;^loc&gt;&quot;
</p></dd>
<dt> <kbd>C-c C-a C-u</kbd></dt>
<dd><p>Inserts &quot;\&lt;^sup&gt;&quot;  (superscript character)
</p></dd>
<dt> <kbd>C-c C-a C-l</kbd></dt>
<dd><p>Inserts &quot;\&lt;^sub&gt;&quot; (subscript character)
</p></dd>
<dt> <kbd>C-c C-a u</kbd></dt>
<dd><p>Inserts &quot;\&lt;^bsup&gt; \&lt;^esup&gt;&quot;  (superscript string)
</p></dd>
<dt> <kbd>C-c C-a l</kbd></dt>
<dd><p>Inserts &quot;\&lt;^bsub&gt; \&lt;^esub&gt;&quot;  (subscript string)
</p></dd>
<dt> <kbd>C-c C-a C-i</kbd></dt>
<dd><p>Inserts &quot;\&lt;^isub&gt;&quot;  (identifier subscript letter)
</p></dd>
<dt> <kbd>C-c C-a C-r</kbd></dt>
<dd><p>Inserts &quot;\&lt;^raw:&gt;&quot;  (raw LaTeX text)
</p></dd>
<dt> <kbd>C-c C-a C-a</kbd></dt>
<dd><p>Inserts &quot;@{text &quot;&quot;}&quot;  (anti-quotation).
</p></dd>
<dt> <kbd>C-c C-a C-x</kbd></dt>
<dd><p>Inserts &quot;ML {* *}&quot;  (inline ML code).
</p></dd>
</dl>

<p>Command termination via `<code>;</code>' is an optional feature of Isar
syntax.  Neither Isabelle nor Proof General require semicolons to
do their job.  The following command allows to get rid of command
terminators in existing texts.
</p>
<dl>
<dt><u>Command:</u> <b>isar-strip-terminators</b>
<a name="IDX113"></a>
</dt>
<dd><p>Remove explicit Isabelle/Isar command terminators &lsquo;<samp>;</samp>&rsquo; from the buffer.
</p></dd></dl>


<hr size="6">
<a name="Isabelle-settings"></a>
<a name="SEC69"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC68" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC66" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.3 Isabelle settings </h2>

<p>The Isabelle menu also contains a <code>Settings</code> submenu, which
allows you to configure things such as the behaviour of Isabelle's term
pretty printer (display of types, sorts, etc).  Note that you won't
see this sub-menu until Isabelle has been started, because it is
generated by Isabelle itself.  Proof General, on the other hand, is
responsible for recording any settings that are configured when you
select <code>Isabelle -&gt; Settings -&gt; Save Settings</code>.  They are stored
along with the other Emacs customization settings.
</p>


<hr size="6">
<a name="Isabelle-customizations"></a>
<a name="SEC70"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC69" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC66" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 10.4 Isabelle customizations </h2>

<p>Here are some of the other user options specific to Isabelle.  You can
set these as usual with the customization mechanism.
</p>
<dl>
<dt><u>Variable:</u> <b>isabelle-web-page</b>
<a name="IDX114"></a>
</dt>
<dd><p>URL of web page for Isabelle.
</p></dd></dl>







<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC66" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_12.html#SEC71" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>David Aspinall</em> on <em>July, 24 2008</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
 </font>
 <br>

</p>
</body>
</html>
