<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on July, 24 2008 by texi2html 1.78 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>

-->
<head>
<title>Proof General: 7. Hints and Tips</title>

<meta name="description" content="Proof General: 7. Hints and Tips">
<meta name="keywords" content="Proof General: 7. Hints and Tips">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.78">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Hints-and-Tips"></a>
<a name="SEC52"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="ProofGeneral_7.html#SEC51" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC53" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral_7.html#SEC45" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 7. Hints and Tips </h1>

<p>Apart from the packages officially supported in Proof General, 
many other features of Emacs are useful when using Proof General, even
though they need no specific configuration for Proof General.  It is
worth taking a bit of time to explore the Emacs manual to find out about
them.
</p>
<p>Here we provide some hints and tips for a couple of Emacs features which
users have found valuable with Proof General.  Further contributions to
this chapter are welcomed!
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC53">7.1 Adding your own keybindings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC54">7.2 Using file variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC55">7.3 Using abbreviations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Adding-your-own-keybindings"></a>
<a name="SEC53"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC52" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC54" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC52" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC52" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.1 Adding your own keybindings </h2>

<p>Proof General follows Emacs convention for file modes in using &lt;C-c&gt;
prefix key-bindings for its own functions, which is why some of the
default keyboard short-cuts are quite lengthy.
</p>
<p>Some users may prefer to add additional key-bindings for shorter
sequences.  This can be done interactively with the command
<code>M-x local-set-key</code>, or for longevity, by adding 
code like this to your &lsquo;<tt>.emacs</tt>&rsquo; (or &lsquo;<tt>.xemacs/init.el</tt>&rsquo;) file:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">
(eval-after-load &quot;proof-script&quot; '(progn
 (define-key proof-mode-map [(control n)] 
                            'proof-assert-next-command-interactive)
 (define-key proof-mode-map [(control b)] 
                            'proof-undo-last-successful-command)
 ))
</pre></td></tr></table>

<p>This lisp fragment adds bindings for every buffer in proof script
mode (the Emacs keymap is called <code>proof-mode-map</code>).  To just
affect one prover, use a keymap name like <code>isar-mode-map</code> and
evaluate after the library <code>isar</code> has been loaded.
</p>
<p>To find the names of the functions you may want to bind, look in this
manual, or query current bindings interactively with <kbd>C-h k</kbd>.  This
command (<code>describe-key</code>) works for menu operations as well; also
use it to discover the current key-bindings which you're losing by
declarations such as those above.  By default, <kbd>C-n</kbd> is
<code>next-line</code> and <kbd>C-b</kbd> is <code>backward-char-command</code>; neither
are really needed if you have working cursor keys.
</p>
<p>If you're using XEmacs and your keyboard has a <i>super</i> modifier (on my
PC keyboard it has a Windows symbol and is next to the control key), you
can freely bind keys on that modifier globally (since none are used
by default).  Use lisp like this:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">(global-set-key [(super l)] 'x-symbol-INSERT-lambda)
(global-set-key [(super n)] 'x-symbol-INSERT-notsign)
(global-set-key [(super a)] 'x-symbol-INSERT-logicaland)
(global-set-key [(super o)] 'x-symbol-INSERT-logicalor)
(global-set-key [(super f)] 'x-symbol-INSERT-universal1)
(global-set-key [(super t)] 'x-symbol-INSERT-existential1)
(global-set-key [(super A)] 'x-symbol-INSERT-biglogicaland)
(global-set-key [(super e)] 'x-symbol-INSERT-equivalence)
(global-set-key [(super u)] 'x-symbol-INSERT-notequal)
(global-set-key [(super m)] 'x-symbol-INSERT-arrowdblright)
(global-set-key [(super i)] 'x-symbol-INSERT-longarrowright)
</pre></td></tr></table>
<p>This defines a bunch of short-cuts for insert X-Symbol logical symbols
which are often used in Isabelle.
</p>

<hr size="6">
<a name="Using-file-variables"></a>
<a name="SEC54"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC53" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC55" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC52" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC52" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.2 Using file variables </h2>

<p>A very convenient way to customize file-specific variables is to use the
File Variables (See <a href="../xemacs/File-Variables.html#File-Variables">(xemacs)File Variables</a>). This feature of
Emacs allows to specify the values to use for certain Emacs variables
when a file is loaded. Those values are written as a list at the end of
the file.
</p>
<p>For example, in projects involving multiple directories, it is often
useful to set the variables <code>proof-prog-name</code>, <code>proof-prog-args</code> and
<code>compile-command</code> for each file. Here is an example for Coq users:
for the file &lsquo;<tt>.../dir/bar/foo.v</tt>&rsquo;, if you want Coq to be started
with the path <code>.../dir/theories/</code> added in the libraries path
(<code>&quot;-I&quot;</code> option), you can put at the end of &lsquo;<tt>foo.v</tt>&rsquo;:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">
(* 
*** Local Variables: ***
*** coq-prog-name: &quot;coqtop&quot; ***
*** coq-prog-args: (&quot;-emacs&quot; &quot;-I&quot; &quot;../theories&quot;) ***
*** End: ***
*)
</pre></td></tr></table>

<p>That way the good command is called when the scripting starts in
&lsquo;<tt>foo.v</tt>&rsquo;. Notice that the command argument <code>&quot;-I&quot; &quot;../theories&quot;</code>
is specific to the file &lsquo;<tt>foo.v</tt>&rsquo;, and thus if you set it via the
configuration tool, you will need to do it each time you load this
file. On the contrary with this method, Emacs will do this operation
automatically when loading this file. Please notice that all the strings
above should never contain spaces see documentation of variables
<code>proof-prog-name</code> and <code>proof-prog-args</code>.
</p>
<p>Extending the previous example, if the makefile for &lsquo;<tt>foo.v</tt>&rsquo; is
located in directory &lsquo;<tt>.../dir/</tt>&rsquo;, you can add the right compile
command. And if you want a non standard coq executable to be used, here
is what you should put in variables:
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(* 
 Local Variables: 
 coq-prog-name: &quot;../../coqsrc/bin/coqtop&quot; 
 coq-prog-args: &quot;-emacs&quot; &quot;-I&quot; &quot;../theories&quot;
 compile-command: &quot;make -C .. -k bar/foo.vo&quot; 
 End:
*)
</pre></td></tr></table>

<p>And then the right call to make will be done if you use the <kbd>M-x
compile</kbd> command. Notice that the lines are commented in order to be
ignored by the proof assistant. It is possible to use this mechanism for
any other buffer local variable.  See <a href="../xemacs/File-Variables.html#File-Variables">(xemacs)File Variables</a>.
</p>



<hr size="6">
<a name="Using-abbreviations"></a>
<a name="SEC55"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC54" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC52" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC52" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 7.3 Using abbreviations </h2>

<p>A very useful package of Emacs supports automatic expansions of
abbreviations as you type, See <a href="../(xemacs/_0029Abbrevs.html#g_t_0029Abbrevs">((xemacs))Abbrevs</a>.
</p>
<p>For example, the proof assistant Coq has many command strings that are
long, such as &ldquo;reflexivity,&rdquo; &ldquo;Inductive,&rdquo; &ldquo;Definition&rdquo; and
&ldquo;Discriminate.&rdquo;  Here is a part of the Coq Proof General
abbreviations:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">&quot;abs&quot; &quot;absurd &quot;
&quot;ap&quot; &quot;apply &quot;
&quot;as&quot; &quot;assumption&quot;
</pre></td></tr></table>
<p>The above list was taken from the file that Emacs saves between
sessions.  The easiest way to configure abbreviations is as you write,
by using the key presses <kbd>C-x a g</kbd> (<code>add-global-abbrev</code>) or
<kbd>C-x a i g</kbd> (<code>inverse-add-global-abbrev</code>).  To enable automatic
expansion of abbreviations (which can be annoying), the <code>Abbrev</code>
minor mode, type <kbd>M-x abbrev-mode RET</kbd>. When you are not in Abbrev
mode you can expand an abbreviation by pressing <kbd>C-x '</kbd>
(<code>expand-abbrev</code>). See the Emacs manual for more details.
</p>
<p>Coq Proof General has a special experimental feature called &quot;Holes&quot;
which makes use of the abbreviation mechanism and includes a large list
of command abbreviations. See section <a href="ProofGeneral_10.html#SEC65">Holes feature</a>, for details.  With other
provers, you may use the standard Emacs commands above to set up your
own abbreviation tables.
</p>





<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC52" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_9.html#SEC56" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="ProofGeneral.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_18.html#SEC90" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="ProofGeneral_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>David Aspinall</em> on <em>July, 24 2008</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
 </font>
 <br>

</p>
</body>
</html>
