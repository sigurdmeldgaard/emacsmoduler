<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on July, 24 2008 by texi2html 1.78 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>

-->
<head>
<title>Adapting Proof General: 2. Menus, toolbar, and user-level commands</title>

<meta name="description" content="Adapting Proof General: 2. Menus, toolbar, and user-level commands">
<meta name="keywords" content="Adapting Proof General: 2. Menus, toolbar, and user-level commands">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.78">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Menus-and-Toolbar-and-User_002dlevel-Commands"></a>
<a name="SEC8"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="PG-adapting_2.html#SEC7" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC9" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting_2.html#SEC4" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_17.html#SEC57" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 2. Menus, toolbar, and user-level commands </h1>

<p>The variables described in this chapter configure the menus, toolbar,
and user-level commands.  They should be set in the script mode
before <code>proof-config-done</code> is called.  (Toolbar configuration must
be made before &lsquo;<tt>proof-toolbar.el</tt>&rsquo; is loaded, which usually is
triggered automatically by an attempt to display the toolbar).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC9">2.1 Settings for generic user-level commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC10">2.2 Menu configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC11">2.3 Toolbar configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Settings-for-generic-user_002dlevel-commands"></a>
<a name="SEC9"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC8" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC10" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_17.html#SEC57" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.1 Settings for generic user-level commands </h2>

<dl>
<dt><u>Variable:</u> <b>proof-assistant-home-page</b>
<a name="IDX2"></a>
</dt>
<dd><p>Web address for information on proof assistant.<br>
Used for Proof General's help menu.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-context-command</b>
<a name="IDX3"></a>
</dt>
<dd><p>Command to display the context in proof assistant.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-info-command</b>
<a name="IDX4"></a>
</dt>
<dd><p>Command to ask for help or information in the proof assistant.<br>
String or fn.  If a string, the command to use.
If a function, it should return the command string to insert.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-showproof-command</b>
<a name="IDX5"></a>
</dt>
<dd><p>Command to display proof state in proof assistant.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-goal-command</b>
<a name="IDX6"></a>
</dt>
<dd><p>Command to set a goal in the proof assistant.  String or fn.<br>
If a string, the format character &lsquo;<samp>%s</samp>&rsquo; will be replaced by the
goal string.
If a function, it should return the command string to insert.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-save-command</b>
<a name="IDX7"></a>
</dt>
<dd><p>Command to save a proved theorem in the proof assistant.  String or fn.<br>
If a string, the format character &lsquo;<samp>%s</samp>&rsquo; will be replaced by the
theorem name.
If a function, it should return the command string to insert.
</p></dd></dl>
<dl>
<dt><u>Variable:</u> <b>proof-find-theorems-command</b>
<a name="IDX8"></a>
</dt>
<dd><p>Command to search for a theorem containing a given term.  String or fn.<br>
If a string, the format character &lsquo;<samp>%s</samp>&rsquo; will be replaced by the term.
If a function, it should return the command string to insert.
</p></dd></dl>



<hr size="6">
<a name="Menu-configuration"></a>
<a name="SEC10"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC9" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_17.html#SEC57" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.2 Menu configuration </h2>

<p>As well as the generic Proof General menu, each proof assistant is
provided with a specific menu which can have prover-specific commands.
Proof General puts some default things on this menu, including the
commands to start/stop the prover, and the user-extensible &quot;Favourites&quot;
menu.
</p>
<dl>
<dt><u>Variable:</u> <b>PA-menu-entries</b>
<a name="IDX9"></a>
</dt>
<dd><p>Extra entries for proof assistant specific menu.<br>
A list of menu items [<var>name</var> <var>callback</var> <var>enabler</var> ...].  See the documentation
of &lsquo;<samp><code>easy-menu-define</code></samp>&rsquo; for more details.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>PA-help-menu-entries</b>
<a name="IDX10"></a>
</dt>
<dd><p>Extra entries for help submenu for proof assistant specific help menu.<br>
A list of menu items [<var>name</var> <var>callback</var> <var>enabler</var> ...].  See the documentation
of &lsquo;<samp><code>easy-menu-define</code></samp>&rsquo; for more details.
</p></dd></dl>


<hr size="6">
<a name="Toolbar-configuration"></a>
<a name="SEC11"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC10" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC8" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_17.html#SEC57" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 2.3 Toolbar configuration </h2>

<p>Unlike the menus, Proof General has only one toolbar.  For the &quot;generic&quot;
aspect of Proof General to work well, we shouldn't change (the meaning
of) the existing toolbar buttons too far.  This would discourage people
from experimenting with different proof assistants when they don't
really know them, which is one of the advantages that Proof General
brings.
</p>
<p>But in case it is hard to map some of the generic buttons
onto functions in particular provers, and to allow extra
buttons, there is a mechanism for adjustment.
</p>
<p>I used The Gimp to create the buttons for Proof General.  The
development distribution includes a button blank and some notes in
&lsquo;<tt>etc/notes.txt</tt>&rsquo; about making new buttons.
</p>

<dl>
<dt><u>Variable:</u> <b>proof-toolbar-entries-default</b>
<a name="IDX11"></a>
</dt>
<dd><p>Example value for proof-toolbar-entries.  Also used to define scripting menu.<br>
This gives a bare toolbar that works for any prover, providing the
appropriate configuration variables are set.
To add/remove prover specific buttons, adjust the &lsquo;<samp>&lt;PA&gt;-toolbar-entries</samp>&rsquo;
variable, and follow the pattern in &lsquo;<samp><code>proof-toolbar</code>.el</samp>&rsquo; for
defining functions, images.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>PA-toolbar-entries</b>
<a name="IDX12"></a>
</dt>
<dd><p>List of entries for Proof General toolbar and Scripting menu.<br>
Format of each entry is (<var>token</var> <var>menuname</var> <var>tooltip</var> <var>dynamic-enabler-p</var> <var>enable</var>).
</p>
<p>For each <var>token</var>, we expect an icon with base filename <var>token</var>,
a function proof-toolbar-&lt;TOKEN&gt;, and (optionally) a dynamic enabler
proof-toolbar-&lt;TOKEN&gt;-enable-p.
</p>
<p>If <var>enablep</var> is absent, item is enabled; if <var>enablep</var> is present, item
is only added to menubar and toolbar if <var>enablep</var> is non-null.
</p>
<p>If <var>menuname</var> is nil, item will not appear on the scripting menu.
</p>
<p>If <var>tooltip</var> is nil, item will not appear on the toolbar.
</p>
<p>The default value is &lsquo;<samp><code>proof-toolbar-entries-default</code></samp>&rsquo; which contains
the standard Proof General buttons.
</p></dd></dl>

<p>Here's an example of how to remove a button, from &lsquo;<tt>af2.el</tt>&rsquo;:
</p><table><tr><td>&nbsp;</td><td><pre class="lisp">(setq af2-toolbar-entries
      (remassoc 'state af2-toolbar-entries))
</pre></td></tr></table>



<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC8" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_4.html#SEC12" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="PG-adapting.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_17.html#SEC57" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="PG-adapting_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>David Aspinall</em> on <em>July, 24 2008</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
 </font>
 <br>

</p>
</body>
</html>
